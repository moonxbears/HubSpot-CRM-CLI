import { describe, it } from 'vitest';
import { createRenderer } from "../index.js";
describe('mock context', () => {
    it('should provide reasonable mock data for the "crm.record.tab" extension point', () => {
        const { mocks } = createRenderer('crm.record.tab');
        const { context } = mocks;
        expect(context.location).toBe('crm.record.tab');
        expect(context.user.email).toBe('fake_email@example.com');
        expect(context.user.firstName).toBe('fake_firstName');
        expect(context.user.lastName).toBe('fake_lastName');
        expect(context.portal.id).toBe(123);
        expect(context.portal.timezone).toBe('America/New_York');
        expect(context.crm.objectId).toBe(123);
        expect(context.crm.objectTypeId).toBe('0-1');
        expect(context.variables).toEqual({ fake_variable: 'fake_value' });
    });
    it('should provide reasonable mock data for the "settings" extension point', () => {
        const { mocks } = createRenderer('settings');
        const { context } = mocks;
        expect(context.location).toBe('settings');
        expect(context.portal.id).toBe(123);
        expect(context.portal.timezone).toBe('America/New_York');
    });
});
